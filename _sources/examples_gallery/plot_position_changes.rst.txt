
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples_gallery/plot_position_changes.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_examples_gallery_plot_position_changes.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_gallery_plot_position_changes.py:


Position changes during a race
==============================

Plot the position of each driver at the end of each lap.

.. GENERATED FROM PYTHON SOURCE LINES 7-14

.. code-block:: default


    import fastf1.plotting
    import matplotlib.pyplot as plt


    fastf1.plotting.setup_mpl(misc_mpl_mods=False)








.. GENERATED FROM PYTHON SOURCE LINES 15-16

Load the session and create the plot

.. GENERATED FROM PYTHON SOURCE LINES 16-21

.. code-block:: default

    session = fastf1.get_session(2023, 1, 'R')
    session.load(telemetry=False, weather=False)

    fig, ax = plt.subplots(figsize=(8.0, 4.9))








.. GENERATED FROM PYTHON SOURCE LINES 23-26

For each driver, get their three letter abbreviation (e.g. 'HAM') by simply
using the value of the first lap, get their color and then plot their
position over the number of laps.

.. GENERATED FROM PYTHON SOURCE LINES 26-35

.. code-block:: default

    for drv in session.drivers:
        drv_laps = session.laps.pick_driver(drv)

        abb = drv_laps['Driver'].iloc[0]
        color = fastf1.plotting.driver_color(abb)

        ax.plot(drv_laps['LapNumber'], drv_laps['Position'],
                label=abb, color=color)








.. GENERATED FROM PYTHON SOURCE LINES 37-39

Finalize the plot by setting y-limits that invert the y-axis so that position
one is at the top, set custom tick positions and axis labels.

.. GENERATED FROM PYTHON SOURCE LINES 39-44

.. code-block:: default

    ax.set_ylim([20.5, 0.5])
    ax.set_yticks([1, 5, 10, 15, 20])
    ax.set_xlabel('Lap')
    ax.set_ylabel('Position')





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    Text(0, 0.5, 'Position')



.. GENERATED FROM PYTHON SOURCE LINES 46-47

Because this plot is very crowed, add the legend outside the plot area.

.. GENERATED FROM PYTHON SOURCE LINES 47-51

.. code-block:: default

    ax.legend(bbox_to_anchor=(1.0, 1.02))
    plt.tight_layout()

    plt.show()



.. image-sg:: /examples_gallery/images/sphx_glr_plot_position_changes_001.png
   :alt: plot position changes
   :srcset: /examples_gallery/images/sphx_glr_plot_position_changes_001.png
   :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 7.152 seconds)


.. _sphx_glr_download_examples_gallery_plot_position_changes.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example




    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_position_changes.py <plot_position_changes.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_position_changes.ipynb <plot_position_changes.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
